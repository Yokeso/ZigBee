###############################################################################
#                                                                             #
# IAR C/C++ Compiler V8.10.1.40194/W32 for 8051         24/Dec/2020  11:23:25 #
# Copyright 2004-2011 IAR Systems AB.                                         #
#                                                                             #
#    Core               =  plain                                              #
#    Code model         =  banked                                             #
#    Data model         =  large                                              #
#    Calling convention =  xdata reentrant                                    #
#    Constant location  =  data_rom                                           #
#    Dptr setup         =  1,16                                               #
#    Source file        =  D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\Source\Tr #
#                          ansmitAppMotor.c                                   #
#    Command line       =  -f D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2 #
#                          530-2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530 #
#                          DB\..\..\..\Tools\CC2530DB\f8wEndev.cfg            #
#                          (-DCPU32MHZ -DROOT=__near_func                     #
#                          -DMAC_CFG_TX_DATA_MAX=3 -DMAC_CFG_TX_MAX=6         #
#                          -DMAC_CFG_RX_MAX=3) -f D:\Projects_IAR\IAR_C8051\W #
#                          SN-CC2530\ZStack-CC2530-2.5.1a_EB\Projects\zstack\ #
#                          MY_BOARD\Exp4\CC2530DB\..\..\..\Tools\CC2530DB\f8w #
#                          Config.cfg (-DZIGBEEPRO -DSECURE=0                 #
#                          -DZG_SECURE_DYNAMIC=0 -DREFLECTOR                  #
#                          -DDEFAULT_CHANLIST=0x02000000                      #
#                          -DZDAPP_CONFIG_PAN_ID=0x1001                       #
#                          -DNWK_START_DELAY=100 -DEXTENDED_JOINING_RANDOM_MA #
#                          SK=0x007F -DBEACON_REQUEST_DELAY=100               #
#                          -DBEACON_REQ_DELAY_MASK=0x00FF                     #
#                          -DLINK_STATUS_JITTER_MASK=0x007F                   #
#                          -DROUTE_EXPIRY_TIME=30 -DAPSC_ACK_WAIT_DURATION_PO #
#                          LLED=3000 -DNWK_INDIRECT_MSG_TIMEOUT=7             #
#                          -DMAX_RREQ_ENTRIES=8 -DAPSC_MAX_FRAME_RETRIES=3    #
#                          -DNWK_MAX_DATA_RETRIES=2                           #
#                          -DMAX_POLL_FAILURE_RETRIES=2 -DMAX_BCAST=9         #
#                          -DAPS_MAX_GROUPS=16 -DMAX_RTG_ENTRIES=40           #
#                          -DNWK_MAX_BINDING_ENTRIES=4                        #
#                          -DMAX_BINDING_CLUSTER_IDS=4 "-DDEFAULT_KEY={0x01,  #
#                          0x03, 0x05, 0x07, 0x09, 0x0B, 0x0D, 0x0F, 0x00,    #
#                          0x02, 0x04, 0x06, 0x08, 0x0A, 0x0C, 0x0D}"         #
#                          -DMAC_MAX_FRAME_SIZE=116                           #
#                          -DZDNWKMGR_MIN_TRANSMISSIONS=20 "-DCONST=const     #
#                          __code" -DGENERIC=__generic                        #
#                          -DRFD_RCVC_ALWAYS_ON=FALSE -DPOLL_RATE=1000        #
#                          -DQUEUED_POLL_RATE=100 -DRESPONSE_POLL_RATE=100)   #
#                          -DREJOIN_POLL_RATE=440 D:\Projects_IAR\IAR_C8051\W #
#                          SN-CC2530\ZStack-CC2530-2.5.1a_EB\Projects\zstack\ #
#                          MY_BOARD\Exp4\Source\TransmitAppMotor.c -D         #
#                          xPOWER_SAVING -D xHAL_UART=TRUE -D xHAL_UART_TEST  #
#                          -D xZDAPP_CONFIG_PAN_ID=0x1001 -lC                 #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          EndDeviceSBRelay\List\ -lA                         #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          EndDeviceSBRelay\List\ --diag_suppress             #
#                          Pe001,Pa010 -o D:\Projects_IAR\IAR_C8051\WSN-CC253 #
#                          0\ZStack-CC2530-2.5.1a_EB\Projects\zstack\MY_BOARD #
#                          \Exp4\CC2530DB\EndDeviceSBRelay\Obj\ -e            #
#                          --no_code_motion --debug --core=plain --dptr=16,1  #
#                          --data_model=large --code_model=banked             #
#                          --calling_convention=xdata_reentrant               #
#                          --place_constants=data_rom --nr_virtual_regs 16    #
#                          -I D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2 #
#                          530-2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530 #
#                          DB\ -I D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack #
#                          -CC2530-2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC #
#                          2530DB\..\Source\ -I D:\Projects_IAR\IAR_C8051\WSN #
#                          -CC2530\ZStack-CC2530-2.5.1a_EB\Projects\zstack\MY #
#                          _BOARD\Exp4\CC2530DB\..\..\..\ZMain\TI2530DB\ -I   #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\hal\include\ -I          #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\hal\target\CC2530SB\ -I  #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\mac\include\ -I          #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\mac\high_level\ -I       #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\mac\low_level\srf04\ -I  #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\mac\low_level\srf04\sing #
#                          le_chip\ -I D:\Projects_IAR\IAR_C8051\WSN-CC2530\Z #
#                          Stack-CC2530-2.5.1a_EB\Projects\zstack\MY_BOARD\Ex #
#                          p4\CC2530DB\..\..\..\..\..\Components\mt\ -I       #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\osal\include\ -I         #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\services\saddr\ -I       #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\services\sdata\ -I       #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\stack\af\ -I             #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\stack\nwk\ -I            #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\stack\sapi\ -I           #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\stack\sec\ -I            #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\stack\sys\ -I            #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\stack\zdo\ -I            #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\zmac\ -I                 #
#                          D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          ..\..\..\..\..\Components\zmac\f8w\ -Ohz           #
#    List file          =  D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          EndDeviceSBRelay\List\TransmitAppMotor.lst         #
#    Object file        =  D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530 #
#                          -2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\CC2530DB\ #
#                          EndDeviceSBRelay\Obj\TransmitAppMotor.r51          #
#                                                                             #
#                                                                             #
###############################################################################

D:\Projects_IAR\IAR_C8051\WSN-CC2530\ZStack-CC2530-2.5.1a_EB\Projects\zstack\MY_BOARD\Exp4\Source\TransmitAppMotor.c
      1          //*****************************************************************************/
      2          //
      3          // 文 件 名：TransmitAppMotor.c
      4          //
      5          // 作    者：yizedxl 
      6          //
      7          // 创建时间：2013.9.20
      8          //
      9          // 修改时间：2013.11.1
     10          //
     11          // IAR 版本：IAR for 8051 V8.10.1
     12          //
     13          // 测试平台：Sensor Battery MotherBoard V2.0
     14          //
     15          // 说    明：
     16          //
     17          //  1、程序的驱动文件在hal_motor;
     18          //  2、本部分的程序使用了以下的编译选项：
     19          //     HAL_UART=TRUE
     20          //     HAL_UART_TEST
     21          //     xZDAPP_CONFIG_PAN_ID=0x1001 (该选项没有打开)
     22          //     xPOWER_SAVING (该选项没有打开)
     23          //     
     24          //     HAL_UART_TEST是为用户增加的编译选项，该选项主要是为了解决在没有
     25          //     LCD的设备上如何观察Z-Stack输出的显示数据，在有LCD的设备上打开LCD_SUPPORTED
     26          //     可以观察网络ID，以及一些基本的信息；打开这个编译选项，有类似的效果，
     27          //     可以借助串口显示一些原本在LCD上显示的信息；如果串口有其他用途，
     28          //     可以通过关闭此编译选项来关闭串口输出的数据；以上的功能是经过验证的。
     29          //
     30          //     注意编译选项ZDAPP_CONFIG_PAN_ID，如果打开这个编译选项，并且配置
     31          //     了非0xFFFF的数值，那么设备只会加入对应PANID的网络；
     32          //     xPOWER_SAVING选项是终端设备(EndDevice)可以打开的编译选项
     33          //  3、程序使用了以下几个事件：
     34          //     TRANSMITAPP_SEND_MSG_EVT(发送数据)
     35          //     TRANSMITAPP_MATCHRSP_EVT(描述符匹配)
     36          //  4、按键处理函数在TransmitApp_HandleKeys( byte shift, byte keys )，
     37          //     本部分程序使用了按键SW5，按键实现了电机控制的功能；
     38          //  5、设备自动加入网络，通过前面提到的描述符匹配事件完成对目标设备的
     39          //     网络地址查询，当匹配成功后，关闭该事件的定时器；由于已经获取到了
     40          //     目标设备的网络地址，接着打开前面提到的发送数据事件，周期性的
     41          //     发送数据，发送数据的时间间隔在宏定义TRANSMITAPP_SEND_DELAY，修改
     42          //     此宏定义可以修改设备发送数据的周期，但是请注意：设备发送数据的
     43          //     周期与协调器的离线检测功能是关联的，如果此处的发送间隔时间过长
     44          //     (大于6s)，那么协调器就会认定设备离线；因此，修改时间间隔需要与
     45          //     协调器的离线检测功能协调一致。
     46          //  6、(1)直流电机模块功能：启动和停止，转速控制(1~50RPM)，方向；
     47          //     (2)设备启动后开始描述符匹配，匹配成功后开始定时每秒发送一次电机的状态信息
     48          //        (方向和启动停止)，以及电机的转速。
     49          //     (3)用户按键，可以控制电机转速调节和方向上的调整。主要用于不联网测试电机的
     50          //        转速控制。用户通过UART连接到PC机，借助串口助手之类的软件可以看到简单的
     51          //        转速和定时器数值信息，方便观察转速的调整状况。串口输出与转速调节不同步，
     52          //        串口输出数据在发送数据函数的最后，主要是为了周期显示转速状态而添加的功能；
     53          //        转速调节在hal_motor.c文件内，借助定时器T3中断，每秒可以多次调节(具体参
     54          //        看hal_motor.c文件)。
     55          //
     56          //*******************************************************************************************/
     57          
     58          /*********************************************************************
     59           * INCLUDES
     60           */
     61          #include "OSAL.h"
     62          #include "AF.h"
     63          #include "ZDObject.h"
     64          #include "ZDProfile.h"
     65          
     66          #include "TransmitApp.h"
     67          #include "OnBoard.h"
     68          
     69          #include "DebugTrace.h"
     70          
     71          #include <string.h>
     72          
     73          /* HAL */
     74          #include "hal_led.h"
     75          #include "hal_key.h"
     76          #include "hal_uart.h"
     77          #include "hal_motor.h"
     78          
     79          /*********************************************************************
     80           * MACROS
     81           */
     82          
     83          /*********************************************************************
     84           * CONSTANTS
     85           */
     86          
     87          #define TRANSMITAPP_SEND_DELAY   1000
     88          #define TRANSMITAPP_MATCH_DELAY  1000
     89          
     90          // Send with or without APS ACKs
     91          //#define TRANSMITAPP_TX_OPTIONS    (AF_DISCV_ROUTE | AF_ACK_REQUEST)
     92          #define TRANSMITAPP_TX_OPTIONS    AF_DISCV_ROUTE
     93          
     94          #if defined ( TRANSMITAPP_FRAGMENTED )
     95          #define TRANSMITAPP_MAX_DATA_LEN    225
     96          #else
     97          #define TRANSMITAPP_MAX_DATA_LEN    102
     98          #endif
     99          
    100          /*********************************************************************
    101           * TYPEDEFS
    102           */
    103          
    104          /*********************************************************************
    105           * GLOBAL VARIABLES
    106           */
    107          
    108          // This is the buffer that is sent out as data.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    109          byte TransmitApp_Msg[ TRANSMITAPP_MAX_DATA_LEN ];
   \                     TransmitApp_Msg:
   \   000000                DS 102
   \   000066                REQUIRE __INIT_XDATA_Z
    110          
    111          // This is the Cluster ID List and should be filled with Application
    112          // specific cluster IDs.

   \                                 In  segment XDATA_ROM_C, align 1
    113          const cId_t TransmitApp_InClusterList[TRANSMITAPP_MAX_INCLUSTERS] =
   \                     TransmitApp_InClusterList:
   \   000000   0B00         DW 11
   \   000002   0000         DW 0
   \   000004   0000         DW 0
   \   000006   0000         DW 0
   \   000008   0000         DW 0
   \   00000A   0000         DW 0
   \   00000C   0000         DW 0
   \   00000E   0000         DW 0
    114          {
    115              TRANSMITAPP_CLUSTERID_MOTORCTLMSG
    116          };
    117          

   \                                 In  segment XDATA_ROM_C, align 1
    118          const cId_t TransmitApp_OutClusterList[TRANSMITAPP_MAX_OUTCLUSTERS] =
   \                     TransmitApp_OutClusterList:
   \   000000   0700         DW 7
   \   000002   0000         DW 0
   \   000004   0000         DW 0
    119          {
    120              TRANSMITAPP_CLUSTERID_MOTORSTATUSMSG
    121          };
    122          

   \                                 In  segment XDATA_ROM_C, align 1
    123          const SimpleDescriptionFormat_t TransmitApp_SimpleDesc =
   \                     TransmitApp_SimpleDesc:
   \   000000   01           DB 1
   \   000001   050F         DW 3845
   \   000003   0100         DW 1
   \   000005   00           DB 0
   \   000006   08           DB 8
   \   000007   ....         DW TransmitApp_InClusterList
   \   000009   03           DB 3
   \   00000A   ....         DW TransmitApp_OutClusterList
    124          {
    125              TRANSMITAPP_ENDPOINT,                //  int    Endpoint;
    126              TRANSMITAPP_PROFID,                  //  uint16 AppProfId[2];
    127              TRANSMITAPP_DEVICEID,                //  uint16 AppDeviceId[2];
    128              TRANSMITAPP_DEVICE_VERSION,          //  int    AppDevVer:4;
    129              TRANSMITAPP_FLAGS,                   //  int    AppFlags:4;
    130              TRANSMITAPP_MAX_INCLUSTERS,          //  byte   AppNumInClusters;
    131              (cId_t *)TransmitApp_InClusterList,  //  byte   *pAppInClusterList;
    132              TRANSMITAPP_MAX_OUTCLUSTERS,         //  byte   AppNumInClusters;
    133              (cId_t *)TransmitApp_OutClusterList  //  byte   *pAppInClusterList;
    134          };
    135          
    136          // This is the Endpoint/Interface description.  It is defined here, but
    137          // filled-in in TransmitApp_Init().  Another way to go would be to fill
    138          // in the structure here and make it a "const" (in code space).  The
    139          // way it's defined in this sample app it is define in RAM.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    140          endPointDesc_t TransmitApp_epDesc;
   \                     TransmitApp_epDesc:
   \   000000                DS 6
   \   000006                REQUIRE __INIT_XDATA_Z
    141          
    142          /*********************************************************************
    143           * EXTERNAL VARIABLES
    144           */
    145          
    146          /*********************************************************************
    147           * EXTERNAL FUNCTIONS
    148           */
    149          
    150          /*********************************************************************
    151           * LOCAL VARIABLES
    152           */
    153          //#if HAL_UART==TRUE
    154          #if !defined( SERIAL_APP_PORT )
    155          #define SERIAL_APP_PORT  0
    156          #endif
    157          
    158          #if !defined( SERIAL_APP_BAUD )
    159          #define SERIAL_APP_BAUD  HAL_UART_BR_38400
    160          #endif
    161          
    162          // When the Rx buf space is less than this threshold, invoke the Rx callback.
    163          #if !defined( SERIAL_APP_THRESH )
    164          #define SERIAL_APP_THRESH  64
    165          #endif
    166          
    167          #if !defined( SERIAL_APP_RX_SZ )
    168          #define SERIAL_APP_RX_SZ  128
    169          #endif
    170          
    171          #if !defined( SERIAL_APP_TX_SZ )
    172          #define SERIAL_APP_TX_SZ  128
    173          #endif
    174          
    175          // Millisecs of idle time after a byte is received before invoking Rx callback.
    176          #if !defined( SERIAL_APP_IDLE )
    177          #define SERIAL_APP_IDLE  6
    178          #endif
    179          
    180          // Loopback Rx bytes to Tx for throughput testing.
    181          #if !defined( SERIAL_APP_LOOPBACK )
    182          #define SERIAL_APP_LOOPBACK  FALSE
    183          #endif
    184          
    185          // This is the max byte count per OTA message.
    186          #if !defined( SERIAL_APP_TX_MAX )
    187          #define SERIAL_APP_TX_MAX  80
    188          #endif
    189          //#endif // HAL_UART==TURE
    190          
    191          // Task ID for event processing - received when TransmitApp_Init() is called.

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    192          byte TransmitApp_TaskID;
   \                     TransmitApp_TaskID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    193          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    194          static byte TransmitApp_TransID;  // This is the unique message ID (counter)
   \                     TransmitApp_TransID:
   \   000000                DS 1
   \   000001                REQUIRE __INIT_XDATA_Z
    195          

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    196          afAddrType_t TransmitApp_DstAddr;
   \                     TransmitApp_DstAddr:
   \   000000                DS 12
   \   00000C                REQUIRE __INIT_XDATA_Z
    197          
    198          // Max Data Request Length

   \                                 In  segment XDATA_Z, align 1, keep-with-next
    199          uint16 TransmitApp_MaxDataLength;
   \                     TransmitApp_MaxDataLength:
   \   000000                DS 2
   \   000002                REQUIRE __INIT_XDATA_Z
    200          
    201          /*********************************************************************
    202           * LOCAL FUNCTIONS
    203           */
    204          void TransmitApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg );
    205          void TransmitApp_HandleKeys( byte shift, byte keys );
    206          void TransmitApp_MessageMSGCB( afIncomingMSGPacket_t *pckt );
    207          void TransmitApp_SendTheMessage( void );
    208          void TransmitApp_CallBack(uint8 port, uint8 event);
    209          
    210          /*********************************************************************
    211           * NETWORK LAYER CALLBACKS
    212           */
    213          
    214          /*********************************************************************
    215           * PUBLIC FUNCTIONS
    216           */
    217          
    218          /*********************************************************************
    219           * @fn      TransmitApp_Init
    220           *
    221           * @brief   Initialization function for the Generic App Task.
    222           *          This is called during initialization and should contain
    223           *          any application specific initialization (ie. hardware
    224           *          initialization/setup, table initialization, power up
    225           *          notificaiton ... ).
    226           *
    227           * @param   task_id - the ID assigned by OSAL.  This ID should be
    228           *                    used to send messages and set timers.
    229           *
    230           * @return  none
    231           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    232          void TransmitApp_Init( byte task_id )
   \                     TransmitApp_Init:
    233          {
   \   000000   74F7         MOV     A,#-0x9
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 9
   \   000005                ; Auto size: 2
   \   000005   74FE         MOV     A,#-0x2
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   E9           MOV     A,R1
    234          #if (HAL_UART == TRUE)
    235              halUARTCfg_t uartConfig;
    236              
    237              uartConfig.configured           = TRUE;              // 2x30 don't care - see uart driver.
    238              uartConfig.baudRate             = SERIAL_APP_BAUD;
    239              uartConfig.flowControl          = FALSE;
    240              uartConfig.flowControlThreshold = SERIAL_APP_THRESH; // 2x30 don't care - see uart driver.
    241              uartConfig.rx.maxBufSize        = SERIAL_APP_RX_SZ;  // 2x30 don't care - see uart driver.
    242              uartConfig.tx.maxBufSize        = SERIAL_APP_TX_SZ;  // 2x30 don't care - see uart driver.
    243              uartConfig.idleTimeout          = SERIAL_APP_IDLE;   // 2x30 don't care - see uart driver.
    244              uartConfig.intEnable            = FALSE;              // 2x30 don't care - see uart driver.
    245              uartConfig.callBackFunc         = TransmitApp_CallBack;
    246              HalUARTOpen (HAL_UART_PORT_0, &uartConfig);
    247          #endif
    248              
    249          #if !defined ( TRANSMITAPP_FRAGMENTED )
    250              afDataReqMTU_t mtu;
    251          #endif
    252              uint16 i;
    253              
    254              TransmitApp_TaskID = task_id;
   \   00000B   90....       MOV     DPTR,#TransmitApp_TaskID
   \   00000E   F0           MOVX    @DPTR,A
    255              TransmitApp_TransID = 0;
   \   00000F   90....       MOV     DPTR,#TransmitApp_TransID
   \   000012   E4           CLR     A
   \   000013   F0           MOVX    @DPTR,A
    256              
    257              // Device hardware initialization can be added here or in main() (Zmain.c).
    258              // If the hardware is application specific - add it here.
    259              // If the hardware is other parts of the device add it in main().
    260              
    261              TransmitApp_DstAddr.addrMode = (afAddrMode_t)AddrNotPresent;
   \   000014   90....       MOV     DPTR,#TransmitApp_DstAddr + 8
   \   000017   F0           MOVX    @DPTR,A
    262              TransmitApp_DstAddr.endPoint = 0;
   \   000018   A3           INC     DPTR
   \   000019   F0           MOVX    @DPTR,A
    263              TransmitApp_DstAddr.addr.shortAddr = 0;
   \   00001A   90....       MOV     DPTR,#TransmitApp_DstAddr
   \   00001D   F0           MOVX    @DPTR,A
   \   00001E   A3           INC     DPTR
   \   00001F   F0           MOVX    @DPTR,A
    264              
    265              // Fill out the endpoint description.
    266              TransmitApp_epDesc.endPoint = TRANSMITAPP_ENDPOINT;
   \   000020   90....       MOV     DPTR,#TransmitApp_epDesc
   \   000023   04           INC     A
   \   000024   F0           MOVX    @DPTR,A
    267              TransmitApp_epDesc.task_id = &TransmitApp_TaskID;
   \   000025   A3           INC     DPTR
   \   000026   74..         MOV     A,#TransmitApp_TaskID & 0xff
   \   000028   F0           MOVX    @DPTR,A
   \   000029   A3           INC     DPTR
   \   00002A   74..         MOV     A,#(TransmitApp_TaskID >> 8) & 0xff
   \   00002C   F0           MOVX    @DPTR,A
    268              TransmitApp_epDesc.simpleDesc
    269                      = (SimpleDescriptionFormat_t *)&TransmitApp_SimpleDesc;
   \   00002D   A3           INC     DPTR
   \   00002E   74..         MOV     A,#TransmitApp_SimpleDesc & 0xff
   \   000030   F0           MOVX    @DPTR,A
   \   000031   A3           INC     DPTR
   \   000032   74..         MOV     A,#(TransmitApp_SimpleDesc >> 8) & 0xff
   \   000034   F0           MOVX    @DPTR,A
    270              TransmitApp_epDesc.latencyReq = noLatencyReqs;
   \   000035   A3           INC     DPTR
   \   000036   E4           CLR     A
   \   000037   F0           MOVX    @DPTR,A
    271              
    272              // Register the endpoint/interface description with the AF
    273              afRegister( &TransmitApp_epDesc );
   \   000038                ; Setup parameters for call to function afRegister
   \   000038   7A..         MOV     R2,#TransmitApp_epDesc & 0xff
   \   00003A   7B..         MOV     R3,#(TransmitApp_epDesc >> 8) & 0xff
   \   00003C   12....       LCALL   ??afRegister?relay
    274              
    275              // Register for all key events - This app will handle all key events
    276              RegisterForKeys( TransmitApp_TaskID );
   \   00003F                ; Setup parameters for call to function RegisterForKeys
   \   00003F   90....       MOV     DPTR,#TransmitApp_TaskID
   \   000042   E0           MOVX    A,@DPTR
   \   000043   F9           MOV     R1,A
   \   000044   12....       LCALL   ??RegisterForKeys?relay
    277              
    278              
    279              // Set the data length
    280          #if defined ( TRANSMITAPP_FRAGMENTED )
    281              TransmitApp_MaxDataLength = TRANSMITAPP_MAX_DATA_LEN;
    282          #else
    283              mtu.kvp        = FALSE;
   \   000047   85..82       MOV     DPL,?XSP + 0
   \   00004A   85..83       MOV     DPH,?XSP + 1
   \   00004D   E4           CLR     A
   \   00004E   F0           MOVX    @DPTR,A
    284              mtu.aps.secure = FALSE;
   \   00004F   04           INC     A
   \   000050   12....       LCALL   ?XSTACK_DISP0_8
   \   000053   E4           CLR     A
   \   000054   F0           MOVX    @DPTR,A
    285              TransmitApp_MaxDataLength = afDataReqMTU( &mtu );
   \   000055                ; Setup parameters for call to function afDataReqMTU
   \   000055   85..82       MOV     DPL,?XSP + 0
   \   000058   85..83       MOV     DPH,?XSP + 1
   \   00005B   AA82         MOV     R2,DPL
   \   00005D   AB83         MOV     R3,DPH
   \   00005F   12....       LCALL   ??afDataReqMTU?relay
   \   000062   E9           MOV     A,R1
   \   000063   90....       MOV     DPTR,#TransmitApp_MaxDataLength
   \   000066   F0           MOVX    @DPTR,A
   \   000067   A3           INC     DPTR
   \   000068   E4           CLR     A
   \   000069   F0           MOVX    @DPTR,A
    286          #endif
    287              
    288              // Generate the data
    289              for (i = 0; i < TransmitApp_MaxDataLength; i++)
   \   00006A   90....       MOV     DPTR,#TransmitApp_MaxDataLength
   \   00006D   E0           MOVX    A,@DPTR
   \   00006E   6014         JZ      ??TransmitApp_Init_0
    290              {
    291                  TransmitApp_Msg[i] = 0;
   \   000070   F8           MOV     R0,A
   \   000071   7900         MOV     R1,#0x0
   \   000073   90....       MOV     DPTR,#TransmitApp_Msg
   \                     ??TransmitApp_Init_1:
   \   000076   E4           CLR     A
   \   000077   F0           MOVX    @DPTR,A
   \   000078   A3           INC     DPTR
   \   000079   E8           MOV     A,R0
   \   00007A   24FF         ADD     A,#-0x1
   \   00007C   18           DEC     R0
   \   00007D   E9           MOV     A,R1
   \   00007E   34FF         ADDC    A,#-0x1
   \   000080   F9           MOV     R1,A
   \   000081   48           ORL     A,R0
   \   000082   70F2         JNZ     ??TransmitApp_Init_1
    292              }
    293              
    294              ZDO_RegisterForZDOMsg( TransmitApp_TaskID, End_Device_Bind_rsp );
   \                     ??TransmitApp_Init_0:
   \   000084                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   000084   7A20         MOV     R2,#0x20
   \   000086   7B80         MOV     R3,#-0x80
   \   000088   90....       MOV     DPTR,#TransmitApp_TaskID
   \   00008B   E0           MOVX    A,@DPTR
   \   00008C   F9           MOV     R1,A
   \   00008D   12....       LCALL   ??ZDO_RegisterForZDOMsg?relay
    295              ZDO_RegisterForZDOMsg( TransmitApp_TaskID, Match_Desc_rsp );
   \   000090                ; Setup parameters for call to function ZDO_RegisterForZDOMsg
   \   000090   7A06         MOV     R2,#0x6
   \   000092   7B80         MOV     R3,#-0x80
   \   000094   90....       MOV     DPTR,#TransmitApp_TaskID
   \   000097   E0           MOVX    A,@DPTR
   \   000098   F9           MOV     R1,A
   \   000099   12....       LCALL   ??ZDO_RegisterForZDOMsg?relay
    296              
    297              // 初始化电机, 电机处于停转状态
    298              HalMotorInit();
   \   00009C                ; Setup parameters for call to function HalMotorInit
   \   00009C   12....       LCALL   ??HalMotorInit?relay
    299              
    300              // 打开定时器，描述符匹配事件
    301              osal_start_reload_timer( TransmitApp_TaskID, TRANSMITAPP_MATCHRSP_EVT, 
    302                                                           TRANSMITAPP_MATCH_DELAY );
   \   00009F                ; Setup parameters for call to function osal_start_reload_timer
   \   00009F   7CE8         MOV     R4,#-0x18
   \   0000A1   7D03         MOV     R5,#0x3
   \   0000A3   7A08         MOV     R2,#0x8
   \   0000A5   7B00         MOV     R3,#0x0
   \   0000A7   90....       MOV     DPTR,#TransmitApp_TaskID
   \   0000AA   E0           MOVX    A,@DPTR
   \   0000AB   F9           MOV     R1,A
   \   0000AC   12....       LCALL   ??osal_start_reload_timer?relay
    303              
    304              // 电机不联网测试
    305              //osal_start_reload_timer( TransmitApp_TaskID, TRANSMITAPP_SEND_MSG_EVT, \
    306                                                    TRANSMITAPP_SEND_DELAY );
    307              
    308          }
   \   0000AF   7402         MOV     A,#0x2
   \   0000B1   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000B4   7F01         MOV     R7,#0x1
   \   0000B6   02....       LJMP    ?BANKED_LEAVE_XDATA
    309          
    310          /*********************************************************************
    311           * @fn      TransmitApp_ProcessEvent
    312           *
    313           * @brief   Generic Application Task event processor.  This function
    314           *          is called to process all events for the task.  Events
    315           *          include timers, messages and any other user defined events.
    316           *
    317           * @param   task_id  - The OSAL assigned task ID.
    318           * @param   events - events to process.  This is a bit map and can
    319           *                   contain more than one event.
    320           *
    321           * @return  none
    322           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    323          UINT16 TransmitApp_ProcessEvent( byte task_id, UINT16 events )
   \                     TransmitApp_ProcessEvent:
    324          {
   \   000000   74F4         MOV     A,#-0xc
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 12
   \   000005                ; Auto size: 9
   \   000005   74F7         MOV     A,#-0x9
   \   000007   12....       LCALL   ?ALLOC_XSTACK8
   \   00000A   8A..         MOV     ?V0 + 0,R2
   \   00000C   8B..         MOV     ?V0 + 1,R3
    325            afIncomingMSGPacket_t *MSGpkt;
    326            afDataConfirm_t *afDataConfirm;
    327            (void)task_id;  // Intentionally unreferenced parameter
    328          
    329            // Data Confirmation message fields
    330            ZStatus_t sentStatus;
    331            byte sentEP;
    332          
    333            if ( events & SYS_EVENT_MSG )
   \   00000E   EB           MOV     A,R3
   \   00000F   5480         ANL     A,#0x80
   \   000011   6043         JZ      ??TransmitApp_ProcessEvent_0
    334            {
    335              MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( TransmitApp_TaskID );
   \   000013                ; Setup parameters for call to function osal_msg_receive
   \   000013   800E         SJMP    ??TransmitApp_ProcessEvent_1
    336              while ( MSGpkt )
    337              {
    338                switch ( MSGpkt->hdr.event )
    339                {
    340                  case ZDO_CB_MSG:
    341                    TransmitApp_ProcessZDOMsgs( (zdoIncomingMsg_t *)MSGpkt );
    342                    break;
    343          
    344                  case KEY_CHANGE:
    345                    TransmitApp_HandleKeys( ((keyChange_t *)MSGpkt)->state, ((keyChange_t *)MSGpkt)->keys );
    346                    break;
    347          
    348                  case AF_DATA_CONFIRM_CMD:
    349                    // This message is received as a confirmation of a data packet sent.
    350                    // The status is of ZStatus_t type [defined in ZComDef.h]
    351                    // The message fields are defined in AF.h
    352                    afDataConfirm = (afDataConfirm_t *)MSGpkt;
    353                    sentEP = afDataConfirm->endpoint;
    354                    sentStatus = afDataConfirm->hdr.status;
    355                    break;
    356          
    357                  case AF_INCOMING_MSG_CMD:
    358                    TransmitApp_MessageMSGCB( MSGpkt );
   \                     ??TransmitApp_ProcessEvent_2:
   \   000015                ; Setup parameters for call to function TransmitApp_MessageMSGCB
   \   000015   EE           MOV     A,R6
   \   000016   FA           MOV     R2,A
   \   000017   EF           MOV     A,R7
   \   000018   FB           MOV     R3,A
   \   000019   12....       LCALL   ??TransmitApp_MessageMSGCB?relay
    359                    break;
    360          
    361                  case ZDO_STATE_CHANGE:
    362                    break;
    363          
    364                  default:
    365                    break;
    366                }
    367          
    368                // Release the memory
    369                osal_msg_deallocate( (uint8 *)MSGpkt );
   \                     ??TransmitApp_ProcessEvent_3:
   \   00001C                ; Setup parameters for call to function osal_msg_deallocate
   \   00001C   EE           MOV     A,R6
   \   00001D   FA           MOV     R2,A
   \   00001E   EF           MOV     A,R7
   \   00001F   FB           MOV     R3,A
   \   000020   12....       LCALL   ??osal_msg_deallocate?relay
    370          
    371                // Next
    372                MSGpkt = (afIncomingMSGPacket_t *)osal_msg_receive( TransmitApp_TaskID );
   \   000023                ; Setup parameters for call to function osal_msg_receive
   \                     ??TransmitApp_ProcessEvent_1:
   \   000023   90....       MOV     DPTR,#TransmitApp_TaskID
   \   000026   E0           MOVX    A,@DPTR
   \   000027   F9           MOV     R1,A
   \   000028   12....       LCALL   ??osal_msg_receive?relay
   \   00002B   8A..         MOV     ?V0 + 2,R2
   \   00002D   8B..         MOV     ?V0 + 3,R3
   \   00002F   AE..         MOV     R6,?V0 + 2
   \   000031   AF..         MOV     R7,?V0 + 3
   \   000033   EE           MOV     A,R6
   \   000034   4F           ORL     A,R7
   \   000035   6016         JZ      ??TransmitApp_ProcessEvent_4
   \   000037   8E82         MOV     DPL,R6
   \   000039   8F83         MOV     DPH,R7
   \   00003B   E0           MOVX    A,@DPTR
   \   00003C   24E6         ADD     A,#-0x1a
   \   00003E   60D5         JZ      ??TransmitApp_ProcessEvent_2
   \   000040   2447         ADD     A,#0x47
   \   000042   70D8         JNZ     ??TransmitApp_ProcessEvent_3
   \   000044                ; Setup parameters for call to function TransmitApp_ProcessZDOMsgs
   \   000044   EE           MOV     A,R6
   \   000045   FA           MOV     R2,A
   \   000046   EF           MOV     A,R7
   \   000047   FB           MOV     R3,A
   \   000048   12....       LCALL   ??TransmitApp_ProcessZDOMsgs?relay
   \   00004B   80CF         SJMP    ??TransmitApp_ProcessEvent_3
    373              }
    374          
    375              // Squash compiler warnings until values are used.
    376              (void)sentStatus;
    377              (void)sentEP;
    378          
    379              // Return unprocessed events
    380              return (events ^ SYS_EVENT_MSG);
   \                     ??TransmitApp_ProcessEvent_4:
   \   00004D   AA..         MOV     R2,?V0 + 0
   \   00004F   E5..         MOV     A,?V0 + 1
   \   000051   6480         XRL     A,#0x80
   \   000053   FB           MOV     R3,A
   \   000054   807A         SJMP    ??TransmitApp_ProcessEvent_5
    381            }
    382          
    383            // Send a message out
    384            if ( events & TRANSMITAPP_SEND_MSG_EVT )
   \                     ??TransmitApp_ProcessEvent_0:
   \   000056   EA           MOV     A,R2
   \   000057   A2E0         MOV     C,0xE0 /* A   */.0
   \   000059   500C         JNC     ??TransmitApp_ProcessEvent_6
    385            {
    386                TransmitApp_SendTheMessage();
   \   00005B                ; Setup parameters for call to function TransmitApp_SendTheMessage
   \   00005B   12....       LCALL   ??TransmitApp_SendTheMessage?relay
    387          
    388              // Return unprocessed events
    389              return (events ^ TRANSMITAPP_SEND_MSG_EVT);
   \   00005E   E5..         MOV     A,?V0 + 0
   \   000060   6401         XRL     A,#0x1
   \                     ??TransmitApp_ProcessEvent_7:
   \   000062   FA           MOV     R2,A
   \   000063   AB..         MOV     R3,?V0 + 1
   \   000065   8069         SJMP    ??TransmitApp_ProcessEvent_5
    390            }
    391            
    392            // 描述匹配事件
    393            if ( events & TRANSMITAPP_MATCHRSP_EVT )
   \                     ??TransmitApp_ProcessEvent_6:
   \   000067   5408         ANL     A,#0x8
   \   000069   6061         JZ      ??TransmitApp_ProcessEvent_8
    394            {
    395               zAddrType_t dstAddr;
    396               dstAddr.addrMode = AddrBroadcast;
   \   00006B   7408         MOV     A,#0x8
   \   00006D   12....       LCALL   ?XSTACK_DISP0_8
   \   000070   740F         MOV     A,#0xf
   \   000072   F0           MOVX    @DPTR,A
    397               dstAddr.addr.shortAddr = NWK_BROADCAST_SHORTADDR;
   \   000073   85..82       MOV     DPL,?XSP + 0
   \   000076   85..83       MOV     DPH,?XSP + 1
   \   000079   74FF         MOV     A,#-0x1
   \   00007B   F0           MOVX    @DPTR,A
   \   00007C   A3           INC     DPTR
   \   00007D   F0           MOVX    @DPTR,A
    398          
    399               ZDP_MatchDescReq( &dstAddr, 
    400                                  NWK_BROADCAST_SHORTADDR,
    401                                  TRANSMITAPP_PROFID,
    402                                  TRANSMITAPP_MAX_OUTCLUSTERS, 
    403                                  (cId_t *)TransmitApp_OutClusterList,
    404                                  TRANSMITAPP_MAX_INCLUSTERS, 
    405                                  (cId_t *)TransmitApp_InClusterList,
    406                                  FALSE );
   \   00007E                ; Setup parameters for call to function ZDP_MatchDescReq
   \   00007E   75..00       MOV     ?V0 + 2,#0x0
   \   000081   78..         MOV     R0,#?V0 + 2
   \   000083   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000086   75....       MOV     ?V0 + 2,#TransmitApp_InClusterList & 0xff
   \   000089   75....       MOV     ?V0 + 3,#(TransmitApp_InClusterList >> 8) & 0xff
   \   00008C   78..         MOV     R0,#?V0 + 2
   \   00008E   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000091   75..08       MOV     ?V0 + 2,#0x8
   \   000094   78..         MOV     R0,#?V0 + 2
   \   000096   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   000099   75....       MOV     ?V0 + 2,#TransmitApp_OutClusterList & 0xff
   \   00009C   75....       MOV     ?V0 + 3,#(TransmitApp_OutClusterList >> 8) & 0xff
   \   00009F   78..         MOV     R0,#?V0 + 2
   \   0000A1   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000A4   75..05       MOV     ?V0 + 2,#0x5
   \   0000A7   75..0F       MOV     ?V0 + 3,#0xf
   \   0000AA   78..         MOV     R0,#?V0 + 2
   \   0000AC   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   0000AF   7903         MOV     R1,#0x3
   \   0000B1   7CFF         MOV     R4,#-0x1
   \   0000B3   7DFF         MOV     R5,#-0x1
   \   0000B5   7408         MOV     A,#0x8
   \   0000B7   12....       LCALL   ?XSTACK_DISP0_8
   \   0000BA   AA82         MOV     R2,DPL
   \   0000BC   AB83         MOV     R3,DPH
   \   0000BE   12....       LCALL   ??ZDP_MatchDescReq?relay
   \   0000C1   7408         MOV     A,#0x8
   \   0000C3   12....       LCALL   ?DEALLOC_XSTACK8
    407          
    408              // Return unprocessed events
    409              return (events ^ TRANSMITAPP_MATCHRSP_EVT);
   \   0000C6   E5..         MOV     A,?V0 + 0
   \   0000C8   6408         XRL     A,#0x8
   \   0000CA   8096         SJMP    ??TransmitApp_ProcessEvent_7
    410            }
    411          /*
    412            // Timed wait from error
    413            if ( events & TRANSMITAPP_SEND_ERR_EVT )
    414            {
    415          
    416              // Return unprocessed events
    417              return (events ^ TRANSMITAPP_SEND_ERR_EVT);
    418            }
    419          */
    420            // Discard unknown events
    421            return 0;
   \                     ??TransmitApp_ProcessEvent_8:
   \   0000CC   7A00         MOV     R2,#0x0
   \   0000CE   7B00         MOV     R3,#0x0
   \                     ??TransmitApp_ProcessEvent_5:
   \   0000D0   7409         MOV     A,#0x9
   \   0000D2   12....       LCALL   ?DEALLOC_XSTACK8
   \   0000D5   7F04         MOV     R7,#0x4
   \   0000D7   02....       LJMP    ?BANKED_LEAVE_XDATA
    422          }
    423          
    424          /*********************************************************************
    425           * Event Generation Functions
    426           */
    427          /*********************************************************************
    428           * @fn      TransmitApp_ProcessZDOMsgs()
    429           *
    430           * @brief   Process response messages
    431           *
    432           * @param   none
    433           *
    434           * @return  none
    435           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    436          void TransmitApp_ProcessZDOMsgs( zdoIncomingMsg_t *inMsg )
   \                     TransmitApp_ProcessZDOMsgs:
    437          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    438            switch ( inMsg->clusterID )
   \   000005   EA           MOV     A,R2
   \   000006   240C         ADD     A,#0xc
   \   000008   F582         MOV     DPL,A
   \   00000A   EB           MOV     A,R3
   \   00000B   3400         ADDC    A,#0x0
   \   00000D   F583         MOV     DPH,A
   \   00000F   E0           MOVX    A,@DPTR
   \   000010   6406         XRL     A,#0x6
   \   000012   7004         JNZ     ??TransmitApp_ProcessZDOMsgs_0
   \   000014   A3           INC     DPTR
   \   000015   E0           MOVX    A,@DPTR
   \   000016   6480         XRL     A,#0x80
   \                     ??TransmitApp_ProcessZDOMsgs_0:
   \   000018   7064         JNZ     ??TransmitApp_ProcessZDOMsgs_1
    439            {
    440              case End_Device_Bind_rsp:
    441                if ( ZDO_ParseBindRsp( inMsg ) == ZSuccess )
    442                {
    443          #if HAL_UART==TRUE
    444                  HalUARTWrite(HAL_UART_PORT_0, "Bind Success!\n",   strlen("Bind Success!\n"));
    445          #endif
    446                }
    447                break;
    448          
    449              case Match_Desc_rsp:
    450                {
    451                  ZDO_ActiveEndpointRsp_t *pRsp = ZDO_ParseEPListRsp( inMsg );
   \   00001A                ; Setup parameters for call to function ZDO_ParseEPListRsp
   \   00001A   12....       LCALL   ??ZDO_ParseEPListRsp?relay
   \   00001D   8A..         MOV     ?V0 + 0,R2
   \   00001F   8B..         MOV     ?V0 + 1,R3
   \   000021   AE..         MOV     R6,?V0 + 0
   \   000023   AF..         MOV     R7,?V0 + 1
    452                  if ( pRsp )
   \   000025   EE           MOV     A,R6
   \   000026   4F           ORL     A,R7
   \   000027   6055         JZ      ??TransmitApp_ProcessZDOMsgs_1
    453                  {
    454                      if ( pRsp->status == ZSuccess && pRsp->cnt )
   \   000029   8E82         MOV     DPL,R6
   \   00002B   8F83         MOV     DPH,R7
   \   00002D   E0           MOVX    A,@DPTR
   \   00002E   7047         JNZ     ??TransmitApp_ProcessZDOMsgs_2
   \   000030   A3           INC     DPTR
   \   000031   A3           INC     DPTR
   \   000032   A3           INC     DPTR
   \   000033   E0           MOVX    A,@DPTR
   \   000034   6041         JZ      ??TransmitApp_ProcessZDOMsgs_2
    455                      {
    456                          // 此处存储绑定对方的地址信息用于发送
    457                          TransmitApp_DstAddr.addrMode = (afAddrMode_t)Addr16Bit;
   \   000036   90....       MOV     DPTR,#TransmitApp_DstAddr + 8
   \   000039   7402         MOV     A,#0x2
   \   00003B   F0           MOVX    @DPTR,A
    458                          TransmitApp_DstAddr.addr.shortAddr = pRsp->nwkAddr;
   \   00003C   8E82         MOV     DPL,R6
   \   00003E   8F83         MOV     DPH,R7
   \   000040   A3           INC     DPTR
   \   000041   E0           MOVX    A,@DPTR
   \   000042   F8           MOV     R0,A
   \   000043   A3           INC     DPTR
   \   000044   E0           MOVX    A,@DPTR
   \   000045   F9           MOV     R1,A
   \   000046   90....       MOV     DPTR,#TransmitApp_DstAddr
   \   000049   E8           MOV     A,R0
   \   00004A   F0           MOVX    @DPTR,A
   \   00004B   A3           INC     DPTR
   \   00004C   E9           MOV     A,R1
   \   00004D   F0           MOVX    @DPTR,A
    459                          // Take the first endpoint, Can be changed to search through endpoints
    460                          TransmitApp_DstAddr.endPoint = pRsp->epList[0];
   \   00004E   8E82         MOV     DPL,R6
   \   000050   8F83         MOV     DPH,R7
   \   000052   A3           INC     DPTR
   \   000053   A3           INC     DPTR
   \   000054   A3           INC     DPTR
   \   000055   A3           INC     DPTR
   \   000056   E0           MOVX    A,@DPTR
   \   000057   90....       MOV     DPTR,#TransmitApp_DstAddr + 9
   \   00005A   F0           MOVX    @DPTR,A
    461                          //TransmitApp_DstAddr.endPoint = 2;
    462                          
    463                          // 匹配成功，关闭描述符匹配事件定时器
    464                          osal_stop_timerEx( TransmitApp_TaskID, TRANSMITAPP_MATCHRSP_EVT );
   \   00005B                ; Setup parameters for call to function osal_stop_timerEx
   \   00005B   7A08         MOV     R2,#0x8
   \   00005D   7B00         MOV     R3,#0x0
   \   00005F   90....       MOV     DPTR,#TransmitApp_TaskID
   \   000062   E0           MOVX    A,@DPTR
   \   000063   F9           MOV     R1,A
   \   000064   12....       LCALL   ??osal_stop_timerEx?relay
    465                          
    466          #if HAL_UART==TRUE
    467                  HalUARTWrite(HAL_UART_PORT_0, "Match Success!\n",   strlen("Match Success!\n"));
    468          #endif
    469                          // 开启定时发送数据给协调器的事件
    470                          osal_start_reload_timer( TransmitApp_TaskID, TRANSMITAPP_SEND_MSG_EVT, 
    471                                                   TRANSMITAPP_SEND_DELAY );
   \   000067                ; Setup parameters for call to function osal_start_reload_timer
   \   000067   7CE8         MOV     R4,#-0x18
   \   000069   7D03         MOV     R5,#0x3
   \   00006B   7A01         MOV     R2,#0x1
   \   00006D   7B00         MOV     R3,#0x0
   \   00006F   90....       MOV     DPTR,#TransmitApp_TaskID
   \   000072   E0           MOVX    A,@DPTR
   \   000073   F9           MOV     R1,A
   \   000074   12....       LCALL   ??osal_start_reload_timer?relay
    472                      }
    473                      osal_mem_free( pRsp );
   \                     ??TransmitApp_ProcessZDOMsgs_2:
   \   000077                ; Setup parameters for call to function osal_mem_free
   \   000077   EE           MOV     A,R6
   \   000078   FA           MOV     R2,A
   \   000079   EF           MOV     A,R7
   \   00007A   FB           MOV     R3,A
   \   00007B   12....       LCALL   ??osal_mem_free?relay
    474                  }
    475                }
    476                break;
    477            }
    478          }
   \                     ??TransmitApp_ProcessZDOMsgs_1:
   \   00007E                REQUIRE ?Subroutine0
   \   00007E                ; // Fall through to label ?Subroutine0

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
   \                     ?Subroutine0:
   \   000000   7F02         MOV     R7,#0x2
   \   000002   02....       LJMP    ?BANKED_LEAVE_XDATA
    479          
    480          /*********************************************************************
    481           * @fn      TransmitApp_HandleKeys
    482           *
    483           * @brief   按键控制直流电机的状态，有正转和反转，停止，以及速度控制。
    484           *          这里的按键控制主要用于离线状态的直流电机测试。
    485           *
    486           * @param   shift - true if in shift/alt.
    487           * @param   keys - bit field for key events. Valid entries:
    488           *
    489           * @return  none
    490           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    491          void TransmitApp_HandleKeys( byte shift, byte keys )
   \                     TransmitApp_HandleKeys:
    492          {
   \   000000                ; Saved register size: 0
   \   000000                ; Auto size: 0
    493            /*  
    494            static uint8 motorStatusCnt;
    495              
    496              if ( keys & HAL_KEY_SW_5 )
    497              {
    498                  motorStatusCnt++;
    499                  motorStatusCnt = motorStatusCnt % 8;
    500                  if (motorStatusCnt == 1)
    501                  {
    502                      // 正转，10RPM
    503                      HalMotorCtl(HAL_MOTOR_FORWORD, 10);
    504                  }
    505                  else if (motorStatusCnt == 2)
    506                  {
    507                      // 正转，30RPM
    508                      HalMotorCtl(HAL_MOTOR_FORWORD, 30);
    509                  }
    510                  else if (motorStatusCnt == 3)
    511                  {
    512                      // 正转，50RPM
    513                      HalMotorCtl(HAL_MOTOR_FORWORD, 50);
    514                  }
    515                  else if (motorStatusCnt == 4)
    516                  {
    517                      // 反转，50RPM
    518                      HalMotorCtl(HAL_MOTOR_BACKWORD, 50);
    519                  }
    520                  else if (motorStatusCnt == 5)
    521                  {
    522                      // 反转，30RPM
    523                      HalMotorCtl(HAL_MOTOR_BACKWORD, 30);
    524                  }
    525                  else if (motorStatusCnt == 6)
    526                  {
    527                      // 反转，10RPM
    528                      HalMotorCtl(HAL_MOTOR_BACKWORD, 10);
    529                  }
    530                  else if (motorStatusCnt == 7)
    531                  {
    532                      motorStatusCnt = 0;
    533                      // 停止
    534                      HalMotorCtl(HAL_MOTOR_STOP, 0); // 停止命令后面的速度设置无效
    535                  }
    536              }*/
    537          }
   \   000000   02....       LJMP    ?BRET
    538          
    539          /*********************************************************************
    540           * LOCAL FUNCTIONS
    541           */
    542          
    543          /*********************************************************************
    544           * @fn      TransmitApp_MessageMSGCB
    545           *
    546           * @brief   Data message processor callback.  This function processes
    547           *          any incoming data - probably from other devices.  So, based
    548           *          on cluster ID, perform the intended action.
    549           *
    550           * @param   none
    551           *
    552           * @return  none
    553           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    554          void TransmitApp_MessageMSGCB( afIncomingMSGPacket_t *pkt )
   \                     TransmitApp_MessageMSGCB:
    555          {
   \   000000   C082         PUSH    DPL
   \   000002   C083         PUSH    DPH
   \   000004                ; Saved register size: 2
   \   000004                ; Auto size: 0
    556            uint8 motorCtl, speed;
    557            
    558            switch ( pkt->clusterId )
   \   000004   8A82         MOV     DPL,R2
   \   000006   8B83         MOV     DPH,R3
   \   000008   A3           INC     DPTR
   \   000009   A3           INC     DPTR
   \   00000A   A3           INC     DPTR
   \   00000B   A3           INC     DPTR
   \   00000C   E0           MOVX    A,@DPTR
   \   00000D   640B         XRL     A,#0xb
   \   00000F   7002         JNZ     ??TransmitApp_MessageMSGCB_0
   \   000011   A3           INC     DPTR
   \   000012   E0           MOVX    A,@DPTR
   \                     ??TransmitApp_MessageMSGCB_0:
   \   000013   7027         JNZ     ??TransmitApp_MessageMSGCB_1
    559            {
    560              case TRANSMITAPP_CLUSTERID_MOTORCTLMSG:
    561              {
    562                // 收到的电机控制命令
    563                speed = pkt->cmd.Data[4];
    564                motorCtl = pkt->cmd.Data[5];
    565                      
    566               // 测试收到的命令       
    567          #if (HAL_UART == TRUE)
    568                HalUARTWrite(HAL_UART_PORT_0, & speed,  1);
    569                HalUARTWrite(HAL_UART_PORT_0, & motorCtl,  1);
    570          #endif             
    571                  HalMotorCtl(motorCtl, speed);    
   \   000015   EA           MOV     A,R2
   \   000016   2422         ADD     A,#0x22
   \   000018   F582         MOV     DPL,A
   \   00001A   EB           MOV     A,R3
   \   00001B   3400         ADDC    A,#0x0
   \   00001D   F583         MOV     DPH,A
   \   00001F   E0           MOVX    A,@DPTR
   \   000020   F8           MOV     R0,A
   \   000021   A3           INC     DPTR
   \   000022   E0           MOVX    A,@DPTR
   \   000023   F9           MOV     R1,A
   \   000024                ; Setup parameters for call to function HalMotorCtl
   \   000024   8882         MOV     DPL,R0
   \   000026   8983         MOV     DPH,R1
   \   000028   A3           INC     DPTR
   \   000029   A3           INC     DPTR
   \   00002A   A3           INC     DPTR
   \   00002B   A3           INC     DPTR
   \   00002C   E0           MOVX    A,@DPTR
   \   00002D   FA           MOV     R2,A
   \   00002E   8882         MOV     DPL,R0
   \   000030   8983         MOV     DPH,R1
   \   000032   A3           INC     DPTR
   \   000033   A3           INC     DPTR
   \   000034   A3           INC     DPTR
   \   000035   A3           INC     DPTR
   \   000036   A3           INC     DPTR
   \   000037   E0           MOVX    A,@DPTR
   \   000038   F9           MOV     R1,A
   \   000039   12....       LCALL   ??HalMotorCtl?relay
    572                  break;
    573                }
    574            
    575              // Could receive control messages in the future.
    576              default:
    577                break;
    578            }
    579          }
   \                     ??TransmitApp_MessageMSGCB_1:
   \   00003C   D083         POP     DPH
   \   00003E   D082         POP     DPL
   \   000040   02....       LJMP    ?BRET
    580          
    581          /*********************************************************************
    582           * @fn      TransmitApp_SendTheMessage
    583           *
    584           * @brief   Send "the" message.
    585           *
    586           * @param   none
    587           *
    588           * @return  none
    589           */

   \                                 In  segment BANKED_CODE, align 1, keep-with-next
    590          void TransmitApp_SendTheMessage( void )
   \                     TransmitApp_SendTheMessage:
    591          {
   \   000000   74F6         MOV     A,#-0xa
   \   000002   12....       LCALL   ?BANKED_ENTER_XDATA
   \   000005                ; Saved register size: 10
   \   000005                ; Auto size: 0
    592              uint16 len;
    593              uint8 tmp;
    594          /*    
    595          #if (HAL_UART == TRUE)
    596              static char testSpeedBuf[10];
    597              static char T1CC0Buf[5], speedBuf[2];
    598              uint16 tmpT1CC0;
    599          #endif
    600          */    
    601              do 
    602              {
    603                  // put the sequence number in the message
    604                  tmp = HI_UINT8( TransmitApp_TransID );
   \                     ??TransmitApp_SendTheMessage_0:
   \   000005   90....       MOV     DPTR,#TransmitApp_TransID
   \   000008   E0           MOVX    A,@DPTR
   \   000009   C4           SWAP    A
   \   00000A   540F         ANL     A,#0xf
   \   00000C   FA           MOV     R2,A
    605                  tmp += (tmp <= 9) ? ('0') : ('A' - 0x0A);
   \   00000D   C3           CLR     C
   \   00000E   940A         SUBB    A,#0xa
   \   000010   5004         JNC     ??TransmitApp_SendTheMessage_1
   \   000012   7830         MOV     R0,#0x30
   \   000014   8002         SJMP    ??TransmitApp_SendTheMessage_2
   \                     ??TransmitApp_SendTheMessage_1:
   \   000016   7837         MOV     R0,#0x37
    606                  TransmitApp_Msg[2] = tmp;
   \                     ??TransmitApp_SendTheMessage_2:
   \   000018   E8           MOV     A,R0
   \   000019   2A           ADD     A,R2
   \   00001A   90....       MOV     DPTR,#TransmitApp_Msg + 2
   \   00001D   F0           MOVX    @DPTR,A
    607                  tmp = LO_UINT8( TransmitApp_TransID );
   \   00001E   90....       MOV     DPTR,#TransmitApp_TransID
   \   000021   E0           MOVX    A,@DPTR
   \   000022   540F         ANL     A,#0xf
   \   000024   FA           MOV     R2,A
    608                  tmp += (tmp <= 9) ? ('0') : ('A' - 0x0A);
   \   000025   C3           CLR     C
   \   000026   940A         SUBB    A,#0xa
   \   000028   5004         JNC     ??TransmitApp_SendTheMessage_3
   \   00002A   7830         MOV     R0,#0x30
   \   00002C   8002         SJMP    ??TransmitApp_SendTheMessage_4
   \                     ??TransmitApp_SendTheMessage_3:
   \   00002E   7837         MOV     R0,#0x37
    609                  TransmitApp_Msg[3] = tmp;
   \                     ??TransmitApp_SendTheMessage_4:
   \   000030   E8           MOV     A,R0
   \   000031   2A           ADD     A,R2
   \   000032   90....       MOV     DPTR,#TransmitApp_Msg + 3
   \   000035   F0           MOVX    @DPTR,A
    610                
    611                  //直流电机转速
    612                  TransmitApp_Msg[4] = HalMotorSpeedCheck();
   \   000036                ; Setup parameters for call to function HalMotorSpeedCheck
   \   000036   12....       LCALL   ??HalMotorSpeedCheck?relay
   \   000039   E9           MOV     A,R1
   \   00003A   90....       MOV     DPTR,#TransmitApp_Msg + 4
   \   00003D   F0           MOVX    @DPTR,A
    613                  //直流电机方向状态
    614                  TransmitApp_Msg[5] = HalMotorStatusCheck();;
   \   00003E                ; Setup parameters for call to function HalMotorStatusCheck
   \   00003E   12....       LCALL   ??HalMotorStatusCheck?relay
   \   000041   E9           MOV     A,R1
   \   000042   90....       MOV     DPTR,#TransmitApp_Msg + 5
   \   000045   F0           MOVX    @DPTR,A
    615             
    616                  len = TransmitApp_MaxDataLength;
    617                  
    618                  tmp = AF_DataRequest( &TransmitApp_DstAddr,                  \
    619                                        &TransmitApp_epDesc,                   \
    620                                         TRANSMITAPP_CLUSTERID_MOTORSTATUSMSG, \
    621                                         len,                                  \
    622                                         TransmitApp_Msg,                      \
    623                                        &TransmitApp_TransID,                  \
    624                                         TRANSMITAPP_TX_OPTIONS,               \
    625                                         AF_DEFAULT_RADIUS );
    626          
    627              } while (afStatus_SUCCESS == tmp);  
   \   000046                ; Setup parameters for call to function AF_DataRequest
   \   000046   75..1E       MOV     ?V0 + 0,#0x1e
   \   000049   78..         MOV     R0,#?V0 + 0
   \   00004B   12....       LCALL   ?PUSH_XSTACK_I_ONE
   \   00004E   75....       MOV     ?V0 + 0,#TransmitApp_TransID & 0xff
   \   000051   75....       MOV     ?V0 + 1,#(TransmitApp_TransID >> 8) & 0xff
   \   000054   78..         MOV     R0,#?V0 + 0
   \   000056   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000059   75....       MOV     ?V0 + 0,#TransmitApp_Msg & 0xff
   \   00005C   75....       MOV     ?V0 + 1,#(TransmitApp_Msg >> 8) & 0xff
   \   00005F   78..         MOV     R0,#?V0 + 0
   \   000061   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000064   90....       MOV     DPTR,#TransmitApp_MaxDataLength
   \   000067   12....       LCALL   ?PUSH_XSTACK8_X_TWO
   \   00006A   75..07       MOV     ?V0 + 0,#0x7
   \   00006D   75..00       MOV     ?V0 + 1,#0x0
   \   000070   78..         MOV     R0,#?V0 + 0
   \   000072   12....       LCALL   ?PUSH_XSTACK_I_TWO
   \   000075   7920         MOV     R1,#0x20
   \   000077   7C..         MOV     R4,#TransmitApp_epDesc & 0xff
   \   000079   7D..         MOV     R5,#(TransmitApp_epDesc >> 8) & 0xff
   \   00007B   7A..         MOV     R2,#TransmitApp_DstAddr & 0xff
   \   00007D   7B..         MOV     R3,#(TransmitApp_DstAddr >> 8) & 0xff
   \   00007F   12....       LCALL   ??AF_DataRequest?relay
   \   000082   7409         MOV     A,#0x9
   \   000084   12....       LCALL   ?DEALLOC_XSTACK8
   \   000087   E9           MOV     A,R1
   \   000088   7003         JNZ     $+5
   \   00008A   02....       LJMP    ??TransmitApp_SendTheMessage_0 & 0xFFFF
    628          
    629          /*
    630          // 通过串口每秒发送一次转速数据    
    631          #if (HAL_UART == TRUE)
    632                  // 转速值(两字节)
    633                  _ltoa(TransmitApp_Msg[4], (uint8 *)speedBuf, 10);
    634                  strcpy( testSpeedBuf, speedBuf);
    635                  strcat(testSpeedBuf, "  ");
    636                  tmpT1CC0 = HalTimerTest();
    637                  
    638                  // T1CC0 PWM波配置数值，详见hal_motor.c
    639                  _ltoa(tmpT1CC0, (uint8 *)T1CC0Buf, 10);
    640                  strcat(testSpeedBuf, T1CC0Buf);
    641                  strcat(testSpeedBuf, "\n");
    642                  HalUARTWrite(HAL_UART_PORT_0, (uint8 *)testSpeedBuf, 10);
    643          #endif
    644          */        
    645          }
   \   00008D   02....       LJMP    ?Subroutine0 & 0xFFFF

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??TransmitApp_Init?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    TransmitApp_Init

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??TransmitApp_ProcessEvent?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    TransmitApp_ProcessEvent

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??TransmitApp_ProcessZDOMsgs?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    TransmitApp_ProcessZDOMsgs

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??TransmitApp_HandleKeys?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    TransmitApp_HandleKeys

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??TransmitApp_MessageMSGCB?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    TransmitApp_MessageMSGCB

   \                                 In  segment BANK_RELAYS, align 1
   \                     ??TransmitApp_SendTheMessage?relay:
   \   000000   12....       LCALL   ?BDISPATCH
   \   000003   ......       DC24    TransmitApp_SendTheMessage
    646          
    647          /*********************************************************************
    648           * @fn      TransmitApp_CallBack
    649           *
    650           * @brief   Send data.
    651           *
    652           * @param   port - UART port.
    653           * @param   event - the UART port event flag.
    654           *
    655           * @return  none
    656           */
    657          static void TransmitApp_CallBack(uint8 port, uint8 event)
                             ^
Warning[Pe177]: function "TransmitApp_CallBack" was declared but never
          referenced
    658          {
    659          
    660          }
    661          
    662          
    663          /*********************************************************************
    664          *********************************************************************/

   Maximum stack usage in bytes:

     Function                       ISTACK PSTACK XSTACK
     --------                       ------ ------ ------
     TransmitApp_HandleKeys             0      0      0
     TransmitApp_Init                   0      0     11
       -> afRegister                    0      0     22
       -> RegisterForKeys               0      0     22
       -> afDataReqMTU                  0      0     22
       -> ZDO_RegisterForZDOMsg         0      0     22
       -> ZDO_RegisterForZDOMsg         0      0     22
       -> HalMotorInit                  0      0     22
       -> osal_start_reload_timer       0      0     22
     TransmitApp_MessageMSGCB           2      0     21
       -> HalMotorCtl                   4      0      0
     TransmitApp_ProcessEvent           0      0     29
       -> osal_msg_receive              0      0     42
       -> TransmitApp_MessageMSGCB      0      0     42
       -> osal_msg_deallocate           0      0     42
       -> osal_msg_receive              0      0     42
       -> TransmitApp_ProcessZDOMsgs
                                        0      0     42
       -> TransmitApp_SendTheMessage
                                        0      0     42
       -> ZDP_MatchDescReq              0      0     58
     TransmitApp_ProcessZDOMsgs         0      0     31
       -> ZDO_ParseEPListRsp            0      0     20
       -> osal_stop_timerEx             0      0     20
       -> osal_start_reload_timer       0      0     20
       -> osal_mem_free                 0      0     20
     TransmitApp_SendTheMessage         0      0     40
       -> HalMotorSpeedCheck            0      0     20
       -> HalMotorStatusCheck           0      0     20
       -> AF_DataRequest                0      0     38


   Segment part sizes:

     Function/Label                     Bytes
     --------------                     -----
     TransmitApp_Msg                     102
     TransmitApp_InClusterList            16
     TransmitApp_OutClusterList            6
     TransmitApp_SimpleDesc               12
     TransmitApp_epDesc                    6
     TransmitApp_TaskID                    1
     TransmitApp_TransID                   1
     TransmitApp_DstAddr                  12
     TransmitApp_MaxDataLength             2
     TransmitApp_Init                    185
     TransmitApp_ProcessEvent            218
     TransmitApp_ProcessZDOMsgs          126
     ?Subroutine0                          5
     TransmitApp_HandleKeys                3
     TransmitApp_MessageMSGCB             67
     TransmitApp_SendTheMessage          144
     ??TransmitApp_Init?relay              6
     ??TransmitApp_ProcessEvent?relay      6
     ??TransmitApp_ProcessZDOMsgs?relay    6
     ??TransmitApp_HandleKeys?relay        6
     ??TransmitApp_MessageMSGCB?relay      6
     ??TransmitApp_SendTheMessage?relay    6

 
 748 bytes in segment BANKED_CODE
  36 bytes in segment BANK_RELAYS
  34 bytes in segment XDATA_ROM_C
 124 bytes in segment XDATA_Z
 
 784 bytes of CODE  memory
  34 bytes of CONST memory
 124 bytes of XDATA memory

Errors: none
Warnings: 1
